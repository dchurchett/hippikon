<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.4.2_05) on Sun May 22 16:13:35 CDT 2005 -->
<TITLE>
Policy (Hippikon - A Powerful Authorization API)
</TITLE>

<META NAME="keywords" CONTENT="com.hippikon.security.Policy class">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    parent.document.title="Policy (Hippikon - A Powerful Authorization API)";
}
</SCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/hippikon/security/PermsNavigator.html" title="class in com.hippikon.security"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/hippikon/security/PolicyStore.html" title="class in com.hippikon.security"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Policy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
com.hippikon.security</FONT>
<BR>
Class Policy</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../resources/inherit.gif" ALT="extended by"><B>com.hippikon.security.Policy</B>
</PRE>
<DL>
<DT><B>Direct Known Subclasses:</B> <DD><A HREF="../../../com/hippikon/security/DefaultObjectPolicy.html" title="class in com.hippikon.security">DefaultObjectPolicy</A></DD>
</DL>
<HR>
<DL>
<DT>public abstract class <B>Policy</B><DT>extends java.lang.Object</DL>

<P>
The Policy abstract class provides a simple mechanism for 
 specializing security logic for a <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A>
 at runtime.<p>
 
 Once a user has been authenticated, a user may need access to different
 resources within an application. Each application may provide its own
 authorization policy implementations to serve its specific needs. The 
 authorization API therefore provides a whitebox framework, where the hooks
 for extensibility and specialization are in the form of <A HREF="../../../com/hippikon/security/Policy.html" title="class in com.hippikon.security"><CODE>Policy</CODE></A>
 implementations.<p>
 
 Where specialized logic is not required the <A HREF="../../../com/hippikon/security/DefaultObjectPolicy.html" title="class in com.hippikon.security"><CODE>DefaultObjectPolicy</CODE></A>
 class will be automatically invoked instead.<p>

 The methods defined in this class provide some toolkit methods for 
 Policy developers in order to create and manipulate PermissionSet 
 objects in the <A HREF="../../../com/hippikon/security/Policy.html#doFinal(com.hippikon.security.PermissionSet)"><CODE>doFinal(PermissionSet perms)</CODE></A> methods.<p>
 
 These methods proxy the DefaultPermissionSet and MutablePermissionSet constructors
 in order to prevent clients from creating their own PermissionSet objects
 and possibly by-passing the authorization framework altogether. The trade-off
 with this approach is that the Policy class seems incohesive and Policy developers
 must know about the implementation. The fact that clients are prevented from 
 by-passing the framework seems a reasonable trade-off.<p>

 This is another reason the authorization framework is considered a 
 white-box framework.<p>
<P>

<P>
<DL>
<DT><B>Since:</B></DT>
  <DD>JDK 1.2.2</DD>
<DT><B>Version:</B></DT>
  <DD>$Id: Policy.html,v 1.1.1.1 2005/06/20 21:00:53 dalehippikon Exp $</DD>
<DT><B>Author:</B></DT>
  <DD>Dale Churchett</DD>
</DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/hippikon/security/AuthorizationContext.html" title="class in com.hippikon.security">AuthorizationContext</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#ctx">ctx</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <A HREF="../../../com/hippikon/security/AuthorizationContext.html" title="class in com.hippikon.security"><CODE>AuthorizationContext</CODE></A> within which the client access to
 a <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A> is being made</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security">ProtectedResource</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#res">res</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A> instance used to determine 
 user principals and specialized authorization logic.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#Policy(com.hippikon.security.ProtectedResource, com.hippikon.security.AuthorizationContext)">Policy</A></B>(<A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security">ProtectedResource</A>&nbsp;res,
       <A HREF="../../../com/hippikon/security/AuthorizationContext.html" title="class in com.hippikon.security">AuthorizationContext</A>&nbsp;ctx)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Creates a new Policy object to handle specialized permissions
 to be defined for a ProtectedResource within an 
 AuthorizationContext.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/hippikon/security/DefaultPermissionSet.html" title="class in com.hippikon.security">DefaultPermissionSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#createDefaultPermissionSet(int)">createDefaultPermissionSet</A></B>(int&nbsp;flags)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a new <A HREF="../../../com/hippikon/security/DefaultPermissionSet.html" title="class in com.hippikon.security"><CODE>DefaultPermissionSet</CODE></A> instance that may be used by
 Policy subclasses in their doFinal() methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/hippikon/security/MutablePermissionSet.html" title="class in com.hippikon.security">MutablePermissionSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#createMutablePermissionSet(com.hippikon.security.PermissionSet)">createMutablePermissionSet</A></B>(<A HREF="../../../com/hippikon/security/PermissionSet.html" title="interface in com.hippikon.security">PermissionSet</A>&nbsp;perms)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a new <A HREF="../../../com/hippikon/security/MutablePermissionSet.html" title="class in com.hippikon.security"><CODE>MutablePermissionSet</CODE></A> instance that may be used by 
 Policy subclasses in their doFinal() methods.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#determineUserPrincipals()">determineUserPrincipals</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a list of user principals to match with
 entries in a <A HREF="../../../com/hippikon/security/PolicyStore.html" title="class in com.hippikon.security"><CODE>PolicyStore</CODE></A> for a <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A>
 This method should be implemented by specialized policies that 
 need to apply user permissions based on their association with
 an ProtectedResource object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../com/hippikon/security/PermissionSet.html" title="interface in com.hippikon.security">PermissionSet</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#doFinal(com.hippikon.security.PermissionSet)">doFinal</A></B>(<A HREF="../../../com/hippikon/security/PermissionSet.html" title="interface in com.hippikon.security">PermissionSet</A>&nbsp;perms)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Allows subclasses the opportunity to perform final logic on the PermissionSet 
 before returning to the client.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#getPrincipalAcls()">getPrincipalAcls</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the principle/permission set key/values that were determined
 by the framework based on entries in the PolicyStore configuration from
 the product being accessed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#getResourcePathInContext()">getResourcePathInContext</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the list of <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A> names that represent
 the resource path being accessed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#getUserPrincipals()">getUserPrincipals</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns the user principals determined within the scope of the current
 authorization request.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#setPrincipalAcls(java.util.Map)">setPrincipalAcls</A></B>(java.util.Map&nbsp;principalAcls)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the principle/permission set key/values that were determined
 by the security framework from the PolicyStore configuration.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../com/hippikon/security/Policy.html#setUserPrincipals(java.util.List)">setUserPrincipals</A></B>(java.util.List&nbsp;principals)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets the user principals determined for the scope of the authorization check.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="res"><!-- --></A><H3>
res</H3>
<PRE>
protected <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security">ProtectedResource</A> <B>res</B></PRE>
<DL>
<DD>The <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A> instance used to determine 
 user principals and specialized authorization logic. Policy
 implementations will need to narrow-cast the object to the expected
 type.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="ctx"><!-- --></A><H3>
ctx</H3>
<PRE>
protected <A HREF="../../../com/hippikon/security/AuthorizationContext.html" title="class in com.hippikon.security">AuthorizationContext</A> <B>ctx</B></PRE>
<DL>
<DD>The <A HREF="../../../com/hippikon/security/AuthorizationContext.html" title="class in com.hippikon.security"><CODE>AuthorizationContext</CODE></A> within which the client access to
 a <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A> is being made
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="Policy(com.hippikon.security.ProtectedResource, com.hippikon.security.AuthorizationContext)"><!-- --></A><H3>
Policy</H3>
<PRE>
public <B>Policy</B>(<A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security">ProtectedResource</A>&nbsp;res,
              <A HREF="../../../com/hippikon/security/AuthorizationContext.html" title="class in com.hippikon.security">AuthorizationContext</A>&nbsp;ctx)</PRE>
<DL>
<DD>Creates a new Policy object to handle specialized permissions
 to be defined for a ProtectedResource within an 
 AuthorizationContext.

 Subclasses must provide a constructor matching the parameters
 in this method for dynamic constructor chaining to work.
<P>
<DT><B>Parameters:</B><DD><CODE>res</CODE> - a ProtectedResource being accessed<DD><CODE>ctx</CODE> - the AuthorizationContext within which the 
 ProtectedResource is being accessed</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="determineUserPrincipals()"><!-- --></A><H3>
determineUserPrincipals</H3>
<PRE>
protected java.util.List <B>determineUserPrincipals</B>()</PRE>
<DL>
<DD>Returns a list of user principals to match with
 entries in a <A HREF="../../../com/hippikon/security/PolicyStore.html" title="class in com.hippikon.security"><CODE>PolicyStore</CODE></A> for a <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A>
 This method should be implemented by specialized policies that 
 need to apply user permissions based on their association with
 an ProtectedResource object.<p>

 This method must guarentee to return a list object that
 is non-null (i.e., emtpy)
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a list of user types associated with a ProtectedResource</DL>
</DD>
</DL>
<HR>

<A NAME="doFinal(com.hippikon.security.PermissionSet)"><!-- --></A><H3>
doFinal</H3>
<PRE>
protected <A HREF="../../../com/hippikon/security/PermissionSet.html" title="interface in com.hippikon.security">PermissionSet</A> <B>doFinal</B>(<A HREF="../../../com/hippikon/security/PermissionSet.html" title="interface in com.hippikon.security">PermissionSet</A>&nbsp;perms)</PRE>
<DL>
<DD>Allows subclasses the opportunity to perform final logic on the PermissionSet 
 before returning to the client.<p>

 Objects that need to have flags unset due to internal state or
 application logic can override the permissions calculated
 using the rules in the <A HREF="../../../com/hippikon/security/PolicyStore.html" title="class in com.hippikon.security"><CODE>PolicyStore</CODE></A>. This keeps
 business logic in one place while still maintain a separation
 of concerns from the PolicyStore.

 The policy may also check the PermissionSet flags as a last
 Check Point (Yoder) to ensure any minimal guarentees are
 in place.<p>

 The default implementation does not affect the PermissionSet
 passed in as a method parameter i.e., what comes in goes out.<p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>the final PermissionSet to return to the client</DL>
</DD>
</DL>
<HR>

<A NAME="createMutablePermissionSet(com.hippikon.security.PermissionSet)"><!-- --></A><H3>
createMutablePermissionSet</H3>
<PRE>
protected final <A HREF="../../../com/hippikon/security/MutablePermissionSet.html" title="class in com.hippikon.security">MutablePermissionSet</A> <B>createMutablePermissionSet</B>(<A HREF="../../../com/hippikon/security/PermissionSet.html" title="interface in com.hippikon.security">PermissionSet</A>&nbsp;perms)</PRE>
<DL>
<DD>Returns a new <A HREF="../../../com/hippikon/security/MutablePermissionSet.html" title="class in com.hippikon.security"><CODE>MutablePermissionSet</CODE></A> instance that may be used by 
 Policy subclasses in their doFinal() methods. This is the only way
 the PermissionSet obtained from a PolicyStore may be altered and ensures
 authorization logic is encapsulated in Policy implementations only.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>perms</CODE> - a PermissionSet object that needs the permissions 
 altering in some way, most commonly for unsetting permission flags   
 due to some specialized authorization logic
<DT><B>Returns:</B><DD>a MutablePermissionSet instance initialized with the value of
 an existing PermissionSet object</DL>
</DD>
</DL>
<HR>

<A NAME="createDefaultPermissionSet(int)"><!-- --></A><H3>
createDefaultPermissionSet</H3>
<PRE>
protected final <A HREF="../../../com/hippikon/security/DefaultPermissionSet.html" title="class in com.hippikon.security">DefaultPermissionSet</A> <B>createDefaultPermissionSet</B>(int&nbsp;flags)</PRE>
<DL>
<DD>Returns a new <A HREF="../../../com/hippikon/security/DefaultPermissionSet.html" title="class in com.hippikon.security"><CODE>DefaultPermissionSet</CODE></A> instance that may be used by
 Policy subclasses in their doFinal() methods. This is the only way
 classes outside of the <code>com.hippikon.security</code> package may
 create new PermissionSet objects and is provided for Policy 
 developers and internal security implementation only.<p>
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a DefaultPermissionSet instance initialized with the
 permission flags represented by the integer method argument</DL>
</DD>
</DL>
<HR>

<A NAME="getResourcePathInContext()"><!-- --></A><H3>
getResourcePathInContext</H3>
<PRE>
protected java.util.List <B>getResourcePathInContext</B>()</PRE>
<DL>
<DD>Returns the list of <A HREF="../../../com/hippikon/security/ProtectedResource.html" title="class in com.hippikon.security"><CODE>ProtectedResource</CODE></A> names that represent
 the resource path being accessed. The <code>getResourcePath()</code>
 method is provided to allow Policy implementations to examine 
 the context the Policy callbacks are being called within
 in order to provide fine-grained authorization logic.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a List of String objects that match the 
 <code>getResourceName()</code> methods of each ProtectedResourc  
 being accessed.</DL>
</DD>
</DL>
<HR>

<A NAME="getUserPrincipals()"><!-- --></A><H3>
getUserPrincipals</H3>
<PRE>
protected final java.util.List <B>getUserPrincipals</B>()</PRE>
<DL>
<DD>Returns the user principals determined within the scope of the current
 authorization request. The security framework gurantees to set this list
 prior to invoking all the doFinal() methods, thus making the user principle
 list available to policy plug-in classes if required.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a List of String objects equal to the user principals determined
 for the scope of the authorization request. May not be null.</DL>
</DD>
</DL>
<HR>

<A NAME="setUserPrincipals(java.util.List)"><!-- --></A><H3>
setUserPrincipals</H3>
<PRE>
protected final void <B>setUserPrincipals</B>(java.util.List&nbsp;principals)</PRE>
<DL>
<DD>Sets the user principals determined for the scope of the authorization check.
<P>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>principals</CODE> - a List of String objects representing the user principals
 determiend for in the scope of the authorization request</DL>
</DD>
</DL>
<HR>

<A NAME="getPrincipalAcls()"><!-- --></A><H3>
getPrincipalAcls</H3>
<PRE>
protected final java.util.Map <B>getPrincipalAcls</B>()</PRE>
<DL>
<DD>Returns the principle/permission set key/values that were determined
 by the framework based on entries in the PolicyStore configuration from
 the product being accessed. The structure is made available to subclasses
 who may need to implement their own inheritance of permissions algorithms and
 therefore will need to know how the PermissionSet being passed into each 
 doFinal() method was determined.
<P>
<DD><DL>

<DT><B>Returns:</B><DD>a Map of String-PermissionSet objects</DL>
</DD>
</DL>
<HR>

<A NAME="setPrincipalAcls(java.util.Map)"><!-- --></A><H3>
setPrincipalAcls</H3>
<PRE>
protected final void <B>setPrincipalAcls</B>(java.util.Map&nbsp;principalAcls)</PRE>
<DL>
<DD>Sets the principle/permission set key/values that were determined
 by the security framework from the PolicyStore configuration.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../com/hippikon/security/PermsNavigator.html" title="class in com.hippikon.security"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../com/hippikon/security/PolicyStore.html" title="class in com.hippikon.security"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../index.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Policy.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>

</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>

</BODY>
</HTML>
